SchurVINS

SchurVINSï¼šåŸºäº Schur è¡¥çš„è½»é‡çº§è§†è§‰æƒ¯æ€§å¯¼èˆªç³»ç»Ÿ

æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºæ»¤æ³¢å™¨çš„è§†è§‰æƒ¯æ€§å¯¼èˆªæ¡†æ¶ï¼Œåä¸º SchurVINSã€‚è¯¥æ¡†æ¶é€šè¿‡æ„å»ºå®Œæ•´çš„æ®‹å·®æ¨¡å‹æ¥ä¿è¯é«˜ç²¾åº¦ï¼ŒåŒæ—¶åˆ©ç”¨ Schur è¡¥é™ä½è®¡ç®—å¤æ‚åº¦ã€‚

    ğŸ§  è§£é‡Šï¼šSchur è¡¥ï¼ˆSchur Complementï¼‰å¸¸ç”¨äºæ•°å€¼çº¿æ€§ä»£æ•°å’Œä¼˜åŒ–é—®é¢˜ä¸­ï¼Œå¯ç”¨äºåˆ†è§£çŸ©é˜µã€ç®€åŒ–è®¡ç®—ã€‚æ­¤å¤„ç”¨äº VIO ä¸­è”åˆçŠ¶æ€ä¼°è®¡ä¸åœ°å›¾æ„å»ºçš„æ®‹å·®ä¼˜åŒ–æ±‚è§£ã€‚

æˆ‘ä»¬é¦–å…ˆæ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„æ®‹å·®æ¨¡å‹ï¼Œæ˜¾å¼å»ºæ¨¡äº†æ¢¯åº¦ã€Hessian çŸ©é˜µå’Œè§‚æµ‹åæ–¹å·®ã€‚ç„¶ååˆ©ç”¨ Schur è¡¥å°†è¯¥æ¨¡å‹åˆ†è§£ä¸ºè‡ªè¿åŠ¨æ®‹å·®æ¨¡å‹ï¼ˆego-motion residualï¼‰å’Œè·¯æ ‡æ®‹å·®æ¨¡å‹ï¼ˆlandmark residualï¼‰ã€‚æœ€ç»ˆåœ¨è¿™ä¸¤ä¸ªæ¨¡å‹ä¸Šåˆ†åˆ«å®ç°äº†**æ‰©å±•å¡å°”æ›¼æ»¤æ³¢ï¼ˆEKFï¼‰**çš„é«˜æ•ˆæ›´æ–°ã€‚

åœ¨ EuRoC å’Œ TUM-VI æ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼ŒSchurVINS åœ¨ç²¾åº¦å’Œè®¡ç®—æ•ˆç‡ä¸Šå‡æ˜¾è‘—ä¼˜äºç°æœ‰çš„ä¸»æµæ–¹æ³•ï¼ˆSOTAï¼‰ã€‚
âœ¨ä¸»è¦è´¡çŒ®åŒ…æ‹¬ï¼š

    æå‡ºäº†ä¸€ä¸ªç­‰æ•ˆæ®‹å·®æ¨¡å‹ï¼Œç”¨äºå¤„ç†è¶…é«˜ç»´åº¦çš„è§‚æµ‹æ•°æ®ï¼Œè¯¥æ¨¡å‹åŒ…æ‹¬æ¢¯åº¦ã€Hessian å’Œå¯¹åº”çš„è§‚æµ‹åæ–¹å·®ã€‚è¯¥æ–¹æ³•åœ¨ EKF ç³»ç»Ÿä¸­å…·æœ‰å¾ˆå¼ºçš„é€šç”¨æ€§ã€‚

    æå‡ºäº†ä¸€ç§è½»é‡çº§çš„EKF è·¯æ ‡æ±‚è§£å™¨ï¼Œé«˜æ•ˆä¼°è®¡è·¯æ ‡çš„ä½ç½®ã€‚

    å¼€å‘äº†ä¸€ç§æ–°çš„EKF VINS æ¡†æ¶ï¼Œèƒ½å¤ŸåŒæ—¶é«˜ç²¾åº¦ã€é«˜æ•ˆç‡åœ°å®Œæˆè‡ªè¿åŠ¨ä¸è·¯æ ‡ä¼°è®¡ã€‚

1. è®¸å¯è¯ï¼ˆLicenseï¼‰

æœ¬é¡¹ç›®ä»£ç éµå¾ª GPLv3 å¼€æºè®¸å¯åè®®ã€‚

    ğŸ“œ è§£é‡Šï¼šæ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ã€ä¿®æ”¹ã€ä¼ æ’­ä»£ç ï¼Œä½†è¡ç”Ÿä½œå“ä¹Ÿå¿…é¡»å¼€æ”¾æºä»£ç ã€‚

SchurVINS åŸºäº SVO2.0ï¼ˆrpg_svo_pro_openï¼‰å¼€å‘ï¼Œå› æ­¤ä¿ç•™å…¶ç›¸å…³æ–‡ä»¶å¼€å¤´çš„åŸå§‹è®¸å¯è¯è¯´æ˜ã€‚

ğŸ“„ ç›¸å…³è®ºæ–‡ï¼š
Yunfei Fan, Tianyu Zhao, Guidong Wang. SchurVINS: Schur Complement-Based Lightweight Visual Inertial Navigation System.
2. å…ˆå†³æ¡ä»¶ï¼ˆPrerequisitesï¼‰

æœ¬é¡¹ç›®å·²åœ¨ Ubuntu 18.04 ä¸Šæµ‹è¯•é€šè¿‡ã€‚éœ€è¦ä»¥ä¸‹ä¾èµ–é¡¹ï¼š
âœ… ç³»ç»Ÿä¾èµ–

sudo apt-get install python-catkin-tools python-vcstool
sudo apt-get install libglew-dev libopencv-dev libyaml-cpp-dev

    ğŸ’¡ è§£é‡Šï¼š
    catkin-tools æ˜¯ ROS çš„æ„å»ºå·¥å…·ï¼›
    vcstool ç”¨äºæ‰¹é‡ç®¡ç†å¤šä¸ª git ä»“åº“ï¼›
    libglew å’Œ opencv æä¾›å›¾åƒå¤„ç†ä¸æ¸²æŸ“åŠŸèƒ½ï¼›
    yaml-cpp ç”¨äºè¯»å–é…ç½®æ–‡ä»¶ã€‚

âœ… Ceres ä¼˜åŒ–åº“ç›¸å…³ä¾èµ–

sudo apt-get install libblas-dev liblapack-dev libsuitesparse-dev

    ğŸ’¡ è§£é‡Šï¼šCeres Solver æ˜¯ä¸€ä¸ªç”¨äºéçº¿æ€§ä¼˜åŒ–çš„åº“ï¼ŒSchurVINS ä¾èµ–å®ƒæ¥å¤„ç†æ®‹å·®æ¨¡å‹ã€‚

ã€æ€»ç»“ï¼šå®‰è£…ä¾èµ–ã€‘
sudo apt-get update
sudo apt-get install python3-catkin-tools python3-vcstool
sudo apt-get install libglew-dev libopencv-dev libyaml-cpp-dev
sudo apt-get install libblas-dev liblapack-dev libsuitesparse-dev

3. æ„å»ºï¼ˆBuildï¼‰

å…‹éš†å¹¶ç¼–è¯‘é¡¹ç›®ï¼š
# 1. æ–°å»ºå·¥ä½œåŒº
mkdir -p ~/Algs/schur/src
cd ~/Algs/schur/src

# 2. å…‹éš† SchurVINS
git clone https://github.com/bytedance/SchurVINS.git

# 3. åˆ›å»º logs / results ç›®å½•ï¼ˆå¯é€‰ï¼‰
mkdir -p ~/Algs/schur/src/SchurVINS/results
mkdir -p ~/Algs/schur/src/SchurVINS/logs

# 4. åˆå§‹åŒ–ä¾èµ–
vcs-import < ./SchurVINS/dependencies.yaml

# 5. è·³è¿‡ minkindr çš„ Python æ¨¡å—ï¼ˆé˜²æ­¢å‡ºé”™ï¼‰
touch minkindr/minkindr_python/CATKIN_IGNORE

# 6. æº ROS ç¯å¢ƒï¼ˆä½¿ç”¨ä½ å®é™… ROS ç‰ˆæœ¬ï¼Œæ¯”å¦‚ Noeticï¼‰
source /opt/ros/noetic/setup.bash

# 7. è¿”å›å·¥ä½œåŒºæ ¹ç›®å½•
cd ~/Algs/schur

ç„¶åæŠŠdbow2_catkin/CMakeLists.txté‡Œçš„GIT_REPOSITORY git@github.com:dorian3d/DBoW2.gitæ”¹ä¸º
GIT_REPOSITORY http://github.com/dorian3d/DBoW2.git

ç„¶åéœ€è¦é‡è£…cv_bridge æˆ‘ç›´æ¥å†srcé‡Œé¢gitcloneäº†
cd ~/Algs/schur/src
rm -rf vision_opencv  # åˆ é™¤ä¹‹å‰å¯èƒ½ä¸é€‚é…çš„ç‰ˆæœ¬
git clone -b noetic https://github.com/ros-perception/vision_opencv.git
ç„¶åç¼–è¯‘
cd ~/Algs/schur
catkin build cv_bridge
# ç”¨ OpenCV3 çš„ cv_bridgeï¼š
source ~/catkin_ws/devel/setup.bash

# ç”¨ OpenCV4 çš„ cv_bridgeï¼š
source ~/Algs/svo2/devel/setup.bash
source ~/Algs/schur/devel/setup.bash

# 8. ä½¿ç”¨ catkin build ç¼–è¯‘ï¼ˆç¡®ä¿å·²å®‰è£… python3-catkin-toolsï¼‰
catkin build
ğŸ§± è§£é‡Šï¼š
    åˆ›å»º results å’Œ logs æ–‡ä»¶å¤¹ç”¨äºå­˜å‚¨ç»“æœå’Œæ—¥å¿—ï¼›
    ä½¿ç”¨ vcs-import æ‹‰å–ä¾èµ–ï¼›
    CATKIN_IGNORE æ˜¯ä¸ºäº†è·³è¿‡ minkindr çš„ Python å­æ¨¡å—ç¼–è¯‘ï¼ˆå¯åŠ å¿«æ„å»ºï¼‰ã€‚

ã€æ€»ç»“ï¼šæ„å»ºç¼–è¯‘ã€‘
mkdir -p ~/Algs/schur/src
cd ~/Algs/schur/src
git clone https://github.com/bytedance/SchurVINS.git
mkdir -p ~/Algs/schur/src/SchurVINS/results
mkdir -p ~/Algs/schur/src/SchurVINS/logs
vcs-import < ./SchurVINS/dependencies.yaml
sed -i 's/git@github.com:/https:\/\/github.com\//' dbow2_catkin/CMakeLists.txt
touch minkindr/minkindr_python/CATKIN_IGNORE
source /opt/ros/noetic/setup.bash
cd ~/Algs/schur/src
rm -rf vision_opencv
git clone -b noetic https://github.com/ros-perception/vision_opencv.git
cd ~/Algs/schur
catkin build cv_bridge
source ~/Algs/schur/devel/setup.bash
cd ~/Algs/schur
catkin build
source ~/Algs/schur/devel/setup.bash

4. è¿è¡Œï¼ˆRunï¼‰

æˆ‘ä»¬æä¾›äº†ä½¿ç”¨ EuRoC æ•°æ®é›†è¿è¡Œ SchurVINS çš„ç¤ºä¾‹ã€‚

æ‰“å¼€ 3 ä¸ªç»ˆç«¯ï¼Œåˆ†åˆ«è¿è¡Œï¼š

    å¯åŠ¨ SchurVINS ç³»ç»Ÿ

    å¯åŠ¨ RViz å¯è§†åŒ–

    æ’­æ”¾ rosbag æ•°æ®åŒ…ï¼ˆä¾‹å¦‚ MH_01ï¼‰

roslaunch svo_ros euroc_vio_stereo.launch
rviz -d svo_ros/rviz_config.rviz
rosbag play ~/Datasets/euroc_data/MH_01_easy.bag 

    ğŸ¥ è§£é‡Šï¼šè¿™ä¸ªå‘½ä»¤å¯åŠ¨ stereo æ¨¡å¼çš„ SchurVINSï¼ˆåŒç›®+IMUï¼‰ï¼Œå¯è§†åŒ–è·¯å¾„ï¼Œæ’­æ”¾æ•°æ®ã€‚

5. å¯å¤ç°æ€§è¯´æ˜ï¼ˆReproducibilityï¼‰

å‘å¸ƒç‰ˆæœ¬ä¸è®ºæ–‡ç»“æœå¯èƒ½å­˜åœ¨å¾®å°å·®å¼‚ã€‚ç”±äºå¤šçº¿ç¨‹å¯¹ CPU å ç”¨å…·æœ‰ä¸€å®šéšæœºæ€§ï¼Œå¯¼è‡´è¿è¡Œæ—¶é—´ç•¥æœ‰å·®åˆ«ã€‚

åœ¨ EuRoC æ•°æ®é›†ä¸Šï¼Œä¸ºäº†å¤ç°ç»“æœï¼Œè¯·è·³è¿‡æ•°æ®å¼€å¤´å‡ ç§’ï¼š
åºåˆ—	å»ºè®®è·³è¿‡æ—¶é—´
MH1	30s
MH2	30s
MH3	10s
MH4	13s
MH5	15s
V11â€“V22	0â€“2s

